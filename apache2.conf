# see http://sources.debian.net/src/apache2/2.4.10-1/debian/config-dir/apache2.conf

RPAFenable On
RPAFsethostname On
RPAFproxy_ips 172.17.0.0 172.17.0.1 172.17.0.2 172.17.0.3 172.17.0.4 172.17.0.5 172.17.0.6 172.17.0.7 172.17.0.8 172.17.0.9 172.17.0.10 172.17.0.11 172.17.0.12 172.17.0.13 172.17.0.14 172.17.0.15 172.17.0.16 172.17.0.17 172.17.0.18 172.17.0.19 172.17.0.20 172.17.0.21 172.17.0.22 172.17.0.23 172.17.0.24 172.17.0.25 172.17.0.26 172.17.0.27 172.17.0.28 172.17.0.29 172.17.0.30 172.17.0.31 172.17.0.32 172.17.0.33 172.17.0.34 172.17.0.35 172.17.0.36 172.17.0.37 172.17.0.38 172.17.0.39 172.17.0.40 172.17.0.41 172.17.0.42 172.17.0.43 172.17.0.44 172.17.0.45 172.17.0.46 172.17.0.47 172.17.0.48 172.17.0.49 172.17.0.50 172.17.0.51 172.17.0.52 172.17.0.53 172.17.0.54 172.17.0.55 172.17.0.56 172.17.0.57 172.17.0.58 172.17.0.59 172.17.0.60 172.17.0.61 172.17.0.62 172.17.0.63 172.17.0.64 172.17.0.65 172.17.0.66 172.17.0.67 172.17.0.68 172.17.0.69 172.17.0.70 172.17.0.71 172.17.0.72 172.17.0.73 172.17.0.74 172.17.0.75 172.17.0.76 172.17.0.77 172.17.0.78172.17.0.79 172.17.0.80 172.17.0.81 172.17.0.82 172.17.0.83 172.17.0.84 172.17.0.85 172.17.0.86 172.17.0.87 172.17.0.88 172.17.0.89 172.17.0.90 172.17.0.91 172.17.0.92 172.17.0.93 172.17.0.94 172.17.0.95 172.17.0.96 172.17.0.97 172.17.0.98 172.17.0.99 172.17.0.100 172.17.0.101 172.17.0.102 172.17.0.103 172.17.0.104 172.17.0.105 172.17.0.106 172.17.0.107 172.17.0.108 172.17.0.109 172.17.0.110 172.17.0.111 172.17.0.112 172.17.0.113 172.17.0.114 172.17.0.115 172.17.0.116 172.17.0.117 172.17.0.118 172.17.0.119 172.17.0.120 172.17.0.121 172.17.0.122 172.17.0.123 172.17.0.124 172.17.0.125 172.17.0.126 172.17.0.127 172.17.0.128 172.17.0.129 172.17.0.130 172.17.0.131 172.17.0.132 172.17.0.133 172.17.0.134 172.17.0.135 172.17.0.136 172.17.0.137 172.17.0.138 172.17.0.139 172.17.0.140 172.17.0.141 172.17.0.142 172.17.0.143 172.17.0.144 172.17.0.145 172.17.0.146 172.17.0.147 172.17.0.148 172.17.0.149 172.17.0.150 172.17.0.151 172.17.0.152 172.17.0.153 172.17.0.154 172.17.0.155 172.17.0.156 172.17.0.157 172.17.0.158 172.17.0.159 172.17.0.160 172.17.0.161 172.17.0.162 172.17.0.163 172.17.0.164 172.17.0.165 172.17.0.166 172.17.0.167 172.17.0.168 172.17.0.169 172.17.0.170 172.17.0.171 172.17.0.172 172.17.0.173 172.17.0.174 172.17.0.175 172.17.0.176 172.17.0.177 172.17.0.178 172.17.0.179 172.17.0.180 172.17.0.181 172.17.0.182 172.17.0.183 172.17.0.184 172.17.0.185 172.17.0.186 172.17.0.187 172.17.0.188 172.17.0.189 172.17.0.190 172.17.0.191 172.17.0.192 172.17.0.193 172.17.0.194 172.17.0.195 172.17.0.196 172.17.0.197 172.17.0.198 172.17.0.199 172.17.0.200 172.17.0.201 172.17.0.202 172.17.0.203 172.17.0.204 172.17.0.205 172.17.0.206 172.17.0.207 172.17.0.208 172.17.0.209 172.17.0.210 172.17.0.211 172.17.0.212 172.17.0.213 172.17.0.214 172.17.0.215 172.17.0.216 172.17.0.217 172.17.0.218 172.17.0.219 172.17.0.220 172.17.0.221 172.17.0.222 172.17.0.223 172.17.0.224 172.17.0.225 172.17.0.226 172.17.0.227 172.17.0.228 172.17.0.229 172.17.0.230 172.17.0.231 172.17.0.232 172.17.0.233 172.17.0.234 172.17.0.235 172.17.0.236 172.17.0.237 172.17.0.238 172.17.0.239 172.17.0.240 172.17.0.241 172.17.0.242 172.17.0.243 172.17.0.244 172.17.0.245 172.17.0.246 172.17.0.247 172.17.0.248 172.17.0.249 172.17.0.250 172.17.0.251 172.17.0.252 172.17.0.253 172.17.0.254 172.17.0.255


Mutex file:/var/lock/apache2 default
PidFile /var/run/apache2/apache2.pid
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5
User www-data 
Group www-data
HostnameLookups Off
ErrorLog /proc/self/fd/2
LogLevel warn

IncludeOptional mods-enabled/*.load
IncludeOptional mods-enabled/*.conf

# ports.conf
Listen 80
<IfModule ssl_module>
	Listen 443
</IfModule>
<IfModule mod_gnutls.c>
	Listen 443
</IfModule>

<Directory />
	Options FollowSymLinks
	AllowOverride None
	Require all denied
</Directory>

<Directory /var/www/>
	Options FollowSymLinks
	AllowOverride All
	Require all granted
</Directory>

<Directory /var/www/html>
	Options FollowSymLinks
	AllowOverride All
	Require all granted
</Directory>

DocumentRoot /var/www/html

AccessFileName .htaccess
<FilesMatch "^\.ht">
	Require all denied
</FilesMatch>

LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %>s %O" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

CustomLog /proc/self/fd/1 combined

<FilesMatch \.php$>
	SetHandler application/x-httpd-php
</FilesMatch>

# Multiple DirectoryIndex directives within the same context will add
# to the list of resources to look for rather than replace
# https://httpd.apache.org/docs/current/mod/mod_dir.html#directoryindex
DirectoryIndex disabled
DirectoryIndex index.php index.html

IncludeOptional conf-enabled/*.conf
IncludeOptional sites-enabled/*.conf

<VirtualHost *:443>
  SSLEngine on
  SSLCertificateFile "/etc/httpd/ssl/ssl.crt"
  SSLCertificateKeyFile "/etc/httpd/ssl/ssl.key"
</VirtualHost>
